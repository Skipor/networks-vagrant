#!/bin/bash
#Generated by Chef for <%= node.hostname %>

echo "generating ring topology"
<%  left_neighbor  = if @router_num != 1 then @router_num - 1 else @routers_count end %>
<%  right_neighbor = if @router_num != @routers_count then @router_num + 1 else 1 end %>

<%  left_pair  = [left_neighbor, @router_num] %>
<%= "#{@vlan_up} #{@interface} #{@router_num} #{left_pair.min}#{left_pair.max}" %>

<%  right_pair = [@router_num, right_neighbor] %>
<%= "#{@vlan_up} #{@interface} #{@router_num} #{right_pair.min}#{right_pair.max}" %>
